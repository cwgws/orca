{"version":3,"file":"js/bundle.js","mappings":"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","sources":["webpack://orca/./www/src/js/api.js","webpack://orca/./www/src/js/state.js","webpack://orca/./www/src/js/ui.js","webpack://orca/./www/src/scss/main.scss?4603","webpack://orca/webpack/bootstrap","webpack://orca/webpack/runtime/define property getters","webpack://orca/webpack/runtime/hasOwnProperty shorthand","webpack://orca/webpack/runtime/make namespace object","webpack://orca/./www/src/js/main.js"],"sourcesContent":["\"use strict\";\n\nconst apiUrl = \"https://api.orca.wgws.dev\";\nconst minInterval = 1500; // 1.5 secs\nconst maxInterval = 768000; // ~12.5 mins\nlet pollTimer = null;\n\nexport function initialize(stateManager) {\n  poll(stateManager, minInterval);\n}\n\nexport async function poll(stateManager, currentInterval) {\n  const { isPollingEnabled, dataChecksum } = stateManager.get();\n  if (!isPollingEnabled) return;\n\n  try {\n    const response = await fetch(apiUrl);\n    if (!response.ok) throw new Error(response.statusText);\n\n    const data = await response.json();\n    stateManager.update({\n      isConnected: true,\n      lastPolledAt: new Date(),\n      apiVersion: data.apiVersion,\n      dataChecksum: data.checksum,\n      corpusChecksum: data.corpus.checksum,\n      corpusTotal: data.corpus.totalDocuments,\n      searches: data.corpus.searches?.reverse() || [],\n      error: null,\n    });\n\n    // Reset interval on successful poll with changes\n    const nextInterval =\n      dataChecksum !== data.checksum\n        ? minInterval\n        : Math.min(currentInterval * 2, maxInterval);\n\n    pollTimer = setTimeout(\n      () => poll(stateManager, nextInterval),\n      nextInterval\n    );\n  } catch (error) {\n    console.error(`Error polling API: ${error.message}`);\n\n    stateManager.update({\n      isConnected: false,\n      error: error.message,\n    });\n\n    // Exponential backoff on error\n    const nextInterval = Math.min(currentInterval * 2, maxInterval);\n    pollTimer = setTimeout(\n      () => poll(stateManager, nextInterval),\n      nextInterval\n    );\n  }\n}\n\nexport async function createSearch(searchStr, stateManager) {\n  console.log(`Searching \"${searchStr}\" 🔦`);\n\n  try {\n    const url = `${apiUrl}/search`;\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ searchStr }),\n    });\n    if (!response.ok) throw new Error(response.statusText);\n\n    clearTimeout(pollTimer);\n    await poll(stateManager, minInterval);\n  } catch (error) {\n    console.error(`Error submitting search: ${error.message}`);\n  }\n}\n\nexport async function deleteSearch(searchUID, stateManager) {\n  console.log(`Deleting search with ID ${searchUID} 🗑️`);\n\n  try {\n    const url = `${apiUrl}/search/${searchUID}`;\n    const response = await fetch(url, { method: \"DELETE\" });\n    if (!response.ok) throw new Error(response.statusText);\n\n    clearTimeout(pollTimer);\n    await poll(stateManager, minInterval);\n  } catch (error) {\n    console.error(`Error deleting search: ${error.message}`);\n  }\n}\n","\"use strict\";\n\nexport class StateManager {\n  constructor(initialState = {}) {\n    this.state = initialState;\n    this.prevState = null;\n    this.listeners = [];\n  }\n\n  update(state) {\n    this.prevState = { ...this.state };\n    this.state = { ...this.state, ...state };\n    this.notify();\n  }\n\n  subscribe(listener) {\n    this.listeners.push(listener);\n  }\n\n  notify() {\n    this.listeners.forEach((listener) => listener(this));\n  }\n\n  get() {\n    return this.state;\n  }\n\n  getPrev() {\n    return this.prevState;\n  }\n}\n","\"use strict\";\n\nimport * as api from \"./api.js\";\n\n/**********************\n * DOM state managers *\n **********************/\n\nexport function initialize(stateManager) {\n  // Add event listener to search form\n  dom.searchForm.addEventListener(\"submit\", async (event) => {\n    event.preventDefault();\n\n    const searchStr = dom.searchInput.value;\n    dom.searchInput.value = \"\";\n\n    updateElement(dom.searchSubmit, { disabled: true });\n    await api.createSearch(searchStr, stateManager);\n    updateElement(dom.searchSubmit, { disabled: false });\n  });\n\n  // Add event listener to polling checkbox\n  dom.optionsEnablePoll.addEventListener(\"change\", async (event) => {\n    event.preventDefault();\n    stateManager.update({ isPollingEnabled: dom.optionsEnablePoll.checked });\n  });\n\n  // Add event listener(s) to search list\n  dom.searchList.addEventListener(\"click\", async (event) => {\n    const e = event.target;\n    if (\n      e.classList.contains(cl.deleteToggle) ||\n      e.classList.contains(cl.deleteOk) ||\n      e.classList.contains(cl.deleteCancel)\n    ) {\n      event.preventDefault();\n      const searchElement = event.target.closest(`.${cl.searchResult}`);\n      const toggle = searchElement.querySelector(`.${cl.deleteToggle}`);\n      const prompt = searchElement.querySelector(`.${cl.deletePrompt}`);\n\n      if (e.classList.contains(cl.deleteToggle)) {\n        toggleVisible(toggle, false);\n        toggleVisible(prompt, true);\n        stateManager.update({ isPollingEnabled: false });\n      } else {\n        toggleVisible(prompt, false);\n        toggleVisible(toggle, true);\n        stateManager.update({ isPollingEnabled: true });\n\n        if (e.classList.contains(cl.deleteOk)) {\n          const searchId = searchElement.dataset.id;\n          await api.deleteSearch(searchId, stateManager);\n        }\n      }\n    }\n  });\n}\n\nexport function update(stateManager) {\n  const {\n    apiVersion,\n    corpusChecksum,\n    corpusTotal,\n    isConnected,\n    lastPolledAt,\n    searches,\n  } = stateManager.get();\n  const prevState = stateManager.getPrev();\n\n  if (isConnected !== prevState?.isConnected) {\n    toggleIsConnected(isConnected);\n    if (!isConnected) return;\n  }\n  if (apiVersion !== prevState?.apiVersion) {\n    updateElement(dom.apiVersion, { textContent: apiVersion });\n  }\n  if (corpusChecksum !== prevState?.corpusChecksum) {\n    updateElement(dom.corpusChecksum, { textContent: corpusChecksum });\n  }\n  if (corpusTotal !== prevState?.corpusTotal) {\n    const localeTotal = corpusTotal.toLocaleString();\n    updateElement(dom.corpusTotal, { textContent: localeTotal });\n  }\n  if (lastPolledAt !== prevState?.lastPolledAt) {\n    updateTimeElement(dom.lastPolledAt, lastPolledAt);\n  }\n  if (searches !== prevState?.searches) {\n    updateSearchResults(stateManager);\n  }\n}\n\nfunction toggleVisible(e, isVisible) {\n  if (isVisible) {\n    e.classList.remove(cl.hidden);\n  } else {\n    e.classList.add(cl.hidden);\n  }\n}\n\nfunction toggleIsConnected(isConnected) {\n  dom.onConnect.forEach((e) => toggleVisible(e, isConnected));\n  dom.onDisconnect.forEach((e) => toggleVisible(e, !isConnected));\n  updateElement(dom.searchSubmit, { disabled: !isConnected });\n  console.log(`UI has been ${isConnected ? \"unhidden\" : \"hidden\"}`);\n}\n\n/**********************************\n * Basic DOM manipulation methods *\n **********************************/\n\nfunction createElement(tag, attributes = {}) {\n  return updateElement(document.createElement(tag), attributes);\n}\n\nfunction createSpinner() {\n  return createElement(\"span\", { className: cl.spinner });\n}\n\nfunction createText(content) {\n  return document.createTextNode(content);\n}\n\nfunction createTimeElement(timestamp) {\n  return updateTimeElement(createElement(\"time\"), timestamp);\n}\n\nfunction updateElement(e, attributes = {}) {\n  // Loop through the attributes and update them. Some need special handling.\n  for (const [attr, value] of Object.entries(attributes)) {\n    if (attr in e) e[attr] = value;\n    else e.setAttribute(attr, value);\n  }\n  return e;\n}\n\nfunction updateTimeElement(e, timestamp) {\n  // Save original timestamp as the element's `datetime` property\n  updateElement(e, { datetime: timestamp });\n\n  // Convert to readable string and save as text content\n  const localeTimestampOptions = {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    hour12: true,\n  };\n  const localeTimestamp = new Date(timestamp).toLocaleString(\n    \"en-US\",\n    localeTimestampOptions\n  );\n  return updateElement(e, { textContent: localeTimestamp });\n}\n\n/*************************\n * Search result methods *\n *************************/\n\nfunction createSearchElement(search) {\n  const { uid: searchUID, checksum, megadocs } = search;\n\n  const searchContainer = createElement(\"article\", { className: cl.search });\n  const searchElement = createElement(\"div\", {\n    className: cl.searchResult,\n  });\n  searchElement.dataset.id = searchUID;\n  searchElement.dataset[\"checksum\"] = checksum;\n\n  // Add search query as heading\n  searchElement.appendChild(createSearchStrElement(search));\n\n  // Add search metadata -\n  const searchMeta = createElement(\"ul\", {\n    className: cl.searchMeta,\n  });\n  searchElement.appendChild(searchMeta);\n\n  // - Result count\n  searchMeta.appendChild(createSearchCountElement(search));\n\n  // - Timestamp\n  searchMeta.appendChild(createSearchTimestampElement(search));\n\n  // - Megadocs\n  if (Array.isArray(search.megadocs) && search.megadocs.length > 0) {\n    megadocs.forEach((megadoc) => {\n      searchMeta.appendChild(createMegadocElement(megadoc));\n    });\n  }\n\n  // - Delete link\n  if (getSearchStatus(search) === \"SUCCESS\") {\n    searchElement.appendChild(createDeleteElement());\n  }\n\n  searchContainer.appendChild(searchElement);\n  return searchContainer;\n}\n\nfunction createSearchStrElement(search) {\n  const { searchStr } = search;\n  return createElement(\"h2\", {\n    className: cl.searchStr,\n    textContent: searchStr,\n  });\n}\n\nfunction createSearchCountElement(search) {\n  const { results, status } = search;\n  const searchCount = createElement(\"li\", {\n    className: cl.searchCount,\n    textContent: `${results.toLocaleString()} results`,\n  });\n  if (status === \"STARTED\") {\n    searchCount.appendChild(createSpinner());\n  }\n  return searchCount;\n}\n\nfunction createSearchTimestampElement(search) {\n  const { createdAt, updatedAt } = search;\n  const status = getSearchStatus(search);\n\n  const searchTimestamp = createElement(\"li\", {\n    className: cl.searchTimestamp,\n    textContent: status === \"SUCCESS\" ? \"Finished \" : \"Started \",\n  });\n  searchTimestamp.appendChild(\n    createTimeElement(status === \"SUCCESS\" ? updatedAt : createdAt)\n  );\n\n  return searchTimestamp;\n}\n\nfunction createMegadocElement(megadoc) {\n  const { uid: docUID, progress = 0.0, status, url } = megadoc;\n  const filetype = megadoc.filetype.toLowerCase();\n  const filesize = formatFilesize(megadoc.filesize);\n\n  const docMeta = createElement(\"li\");\n  docMeta.dataset[\"id\"] = docUID;\n\n  if (status === \"SUCCESS\") {\n    // Megadoc complete, create download link\n    docMeta.className = cl.megadocDownload;\n    const docLink = createElement(\"a\", { href: url, textContent: \"💾 \" });\n    docLink.appendChild(\n      createElement(\"i\", { textContent: `Download ${filetype} (${filesize})` })\n    );\n    docMeta.appendChild(docLink);\n  } else if (status === \"SENDING\") {\n    // Megadoc uploading, display status\n    docMeta.className = cl.megadocSending;\n    docMeta.appendChild(createText(`☁️ Uploading ${filetype} (${filesize})`));\n    docMeta.appendChild(createSpinner());\n  } else {\n    // Megadoc creating, display status\n    docMeta.className = cl.megadocStarted;\n    docMeta.appendChild(\n      createText(`📝 Creating ${filetype} (${(progress * 100.0).toFixed(2)}%)`)\n    );\n    docMeta.appendChild(createSpinner());\n  }\n  return docMeta;\n}\n\nfunction createDeleteElement() {\n  const delLinkMeta = createElement(\"div\", { className: cl.delete });\n\n  // Create delete link; this will reveal the confirmation prompt\n  const delToggleLink = createElement(\"button\", {\n    className: cl.deleteToggle,\n    textContent: \"Delete\",\n  });\n  delLinkMeta.appendChild(delToggleLink);\n\n  // Create prompt --\n  const delPrompt = createElement(\"div\", {\n    className: cl.deletePrompt,\n    textContent: \"Are you sure? \",\n  });\n  toggleVisible(delPrompt, false);\n\n  // - OK link\n  const okLink = createElement(\"button\", {\n    className: cl.deleteOk,\n    textContent: \"OK\",\n  });\n  delPrompt.appendChild(okLink);\n  delPrompt.appendChild(createText(\" \"));\n\n  // - Cancel link\n  const cancelLink = createElement(\"button\", {\n    className: cl.deleteCancel,\n    textContent: \"Cancel\",\n  });\n  delPrompt.appendChild(cancelLink);\n\n  delLinkMeta.appendChild(delPrompt);\n  return delLinkMeta;\n}\n\nfunction updateSearchResults(stateManager) {\n  const { searches = [] } = stateManager.get();\n  if (!Array.isArray(searches) || searches.length === 0) return;\n\n  dom.searchList.innerHTML = \"\";\n\n  searches.forEach((search) => {\n    dom.searchList.appendChild(createSearchElement(search, stateManager));\n  });\n}\n\n/***********\n * Helpers *\n ***********/\n\nconst cl = {\n  // Generic classes\n  spinner: \"spinner\",\n  hidden: \"hidden\",\n  onResult: \"on-result\",\n  onConnect: \"on-connect\",\n  onDisconnect: \"on-disconnect\",\n\n  // Status classes\n  apiVersion: \"footer__api-version\",\n  corpusChecksum: \"footer__checksum-value\",\n  corpusTotal: \"header__corpus-total\",\n  lastPolledAt: \"footer__last-polled-timestamp\",\n\n  // Forms and controls\n  searchForm: \"header__search\",\n  searchInput: \"header__search-input\",\n  searchSubmit: \"header__search-submit\",\n  optionsForm: \"footer__options\",\n  optionsEnablePoll: \"footer__options-enable-polling\",\n\n  // Dynamic content classes\n  searchList: \"main__row\",\n  search: \"main__search\",\n  searchResult: \"main__search-result\",\n  searchStr: \"main__search-result-str\",\n  searchMeta: \"main__search-result-meta\",\n  searchCount: \"main__search-result-meta-count\",\n  searchTimestamp: \"main__search-result-meta-timestamp\",\n  delete: \"main__search-result-meta-delete\",\n  deleteToggle: \"main__search-result-meta-delete-link\",\n  deletePrompt: \"main__search-result-meta-delete-prompt\",\n  deleteOk: \"main__search-result-meta-delete-prompt-ok\",\n  deleteCancel: \"main__search-result-meta-delete-prompt-cancel\",\n  megadocStarted: \"main__search-result-meta-file-started\",\n  megadocSending: \"main__search-result-meta-file-sending\",\n  megadocDownload: \"main__search-result-meta-file-download\",\n};\n\nconst dom = {\n  // Generic elements\n  onResult: document.querySelectorAll(`.${cl.onResult}`),\n  onConnect: document.querySelectorAll(`.${cl.onConnect}`),\n  onDisconnect: document.querySelectorAll(`.${cl.onDisconnect}`),\n\n  // Status elements\n  apiVersion: document.querySelector(`.${cl.apiVersion}`),\n  corpusChecksum: document.querySelector(`.${cl.corpusChecksum}`),\n  corpusTotal: document.querySelector(`.${cl.corpusTotal}`),\n  lastPolledAt: document.querySelector(`.${cl.lastPolledAt}`),\n\n  // Forms and controls\n  searchForm: document.querySelector(`.${cl.searchForm}`),\n  searchInput: document.querySelector(`.${cl.searchInput}`),\n  searchSubmit: document.querySelector(`.${cl.searchSubmit}`),\n  optionsForm: document.querySelector(`.${cl.optionsForm}`),\n  optionsEnablePoll: document.querySelector(`.${cl.optionsEnablePoll}`),\n\n  // Search result elements\n  searchList: document.querySelector(`.${cl.searchList}`),\n};\n\nfunction formatFilesize(bytes) {\n  const units = [\"\", \"k\", \"m\", \"g\", \"t\"];\n  let i = 0;\n  while (bytes >= 1024 && i < units.length - 1) {\n    bytes /= 1024;\n    i++;\n  }\n  return `${bytes.toFixed(1)} ${units[i]}b`;\n}\n\nfunction getSearchStatus(search) {\n  const { megadocs, status } = search;\n  if (Array.isArray(megadocs) && megadocs.length > 0) {\n    for (let i = 0; i < megadocs.length; i++) {\n      if (megadocs[i].status === \"SENDING\" || megadocs[i].status === \"STARTED\") {\n        return megadocs[i].status;\n      }\n    }\n  }\n  return status;\n}\n","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\"use strict\";\n\nimport \"../scss/main.scss\";\nimport { StateManager } from \"./state.js\";\nimport * as api from \"./api.js\";\nimport * as ui from \"./ui.js\";\n\nconst stateManager = new StateManager({\n  isConnected: false,\n  isPollingEnabled: true,\n  lastPolledAt: null,\n  error: null,\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", async function () {\n  // Set theme based on system preference\n  const setTheme = (theme) => {\n    document.documentElement.style.transition = // Add a slight transition effect\n      \"background-color 0.3s ease, color 0.3s ease\";\n    document.documentElement.setAttribute(\"data-bs-theme\", theme);\n  };\n\n  const getPreferredTheme = () => {\n    return window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\n  };\n\n  const applyTheme = () => {\n    setTheme(getPreferredTheme());\n    window.matchMedia(\"(prefers-color-scheme: dark)\").addEventListener(\"change\", () => {\n      setTheme(getPreferredTheme());\n    });\n  };\n\n  applyTheme();\n\n  ui.initialize(stateManager);\n  stateManager.subscribe(ui.update);\n\n  api.initialize(stateManager);\n});\n"],"names":["apiUrl","minInterval","maxInterval","pollTimer","initialize","stateManager","poll","currentInterval","isPollingEnabled","dataChecksum","get","response","fetch","ok","Error","statusText","data","json","update","isConnected","lastPolledAt","Date","apiVersion","checksum","corpusChecksum","corpus","corpusTotal","totalDocuments","searches","reverse","error","nextInterval","Math","min","setTimeout","console","message","createSearch","searchStr","log","url","method","headers","body","JSON","stringify","clearTimeout","deleteSearch","searchUID","StateManager","constructor","initialState","arguments","length","undefined","state","prevState","listeners","notify","subscribe","listener","push","forEach","getPrev","api","dom","searchForm","addEventListener","event","preventDefault","searchInput","value","updateElement","searchSubmit","disabled","optionsEnablePoll","checked","searchList","e","target","classList","contains","cl","deleteToggle","deleteOk","deleteCancel","searchElement","closest","searchResult","toggle","querySelector","prompt","deletePrompt","toggleVisible","searchId","dataset","id","toggleIsConnected","textContent","localeTotal","toLocaleString","updateTimeElement","updateSearchResults","isVisible","remove","hidden","add","onConnect","onDisconnect","createElement","tag","attributes","document","createSpinner","className","spinner","createText","content","createTextNode","createTimeElement","timestamp","attr","Object","entries","setAttribute","datetime","localeTimestampOptions","year","month","day","hour","minute","hour12","localeTimestamp","createSearchElement","search","uid","megadocs","searchContainer","appendChild","createSearchStrElement","searchMeta","createSearchCountElement","createSearchTimestampElement","Array","isArray","megadoc","createMegadocElement","getSearchStatus","createDeleteElement","results","status","searchCount","createdAt","updatedAt","searchTimestamp","docUID","progress","filetype","toLowerCase","filesize","formatFilesize","docMeta","megadocDownload","docLink","href","megadocSending","megadocStarted","toFixed","delLinkMeta","delete","delToggleLink","delPrompt","okLink","cancelLink","innerHTML","onResult","optionsForm","querySelectorAll","bytes","units","i","ui","setTheme","theme","documentElement","style","transition","getPreferredTheme","window","matchMedia","matches","applyTheme"],"sourceRoot":""}